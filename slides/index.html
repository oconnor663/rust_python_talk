<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/solarized.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/solarized-light.css">

		<!-- https://fonts.google.com/selection/embed -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

		<style>
		.hljs-ln-numbers {
			display: none;
		}
        </style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">


<section>
Python code
<pre><code class="hljs python" data-trim data-line-numbers="|4-8|10-15" style="font-size: 160%"><script type="text/template">
import sys

class ScreamingOutput:
    def __init__(self, path=None):
        if path is not None:
            self.file = open(path, "w")
        else:
            self.file = None

    def write(self, string):
        all_caps = string.upper()
        if self.file:
            return self.file.write(all_caps)
        else:
            return sys.stdout.write(all_caps)

if len(sys.argv) > 1:
    output = ScreamingOutput(sys.argv[1])
else:
    output = ScreamingOutput()

output.write("hello world\n")
</script></code></pre>
</section>


<section>
Rust code
<pre><code class="hljs rust" data-trim data-line-numbers="|4-7"><script type="text/template">
use std::io;
use std::io::prelude::*;

enum ScreamingOutput {
    File { file: std::fs::File },
    Stdout,
}

impl ScreamingOutput {
    fn new(maybe_path: Option<String>) -> io::Result<ScreamingOutput> {
        match maybe_path {
            Some(path) => {
                let file = std::fs::File::create(path)?;
                Ok(ScreamingOutput::File { file })
            }
            None => Ok(ScreamingOutput::Stdout),
        }
    }

    fn write(&mut self, string: &str) -> io::Result<()> {
        let all_caps = string.to_uppercase();
        match self {
            ScreamingOutput::File { file } => file.write_all(all_caps.as_bytes()),
            ScreamingOutput::Stdout => std::io::stdout().write_all(all_caps.as_bytes()),
        }
    }
}

fn main() -> io::Result<()> {
    let path = std::env::args().nth(1);
    let mut output = ScreamingOutput::new(path)?;
    output.write("hello world\n")?;
    Ok(())
}
</script></code></pre>
</section>


			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			Reveal.initialize({
				hash: true,
				transition: "none",
				disableLayout: true,
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
